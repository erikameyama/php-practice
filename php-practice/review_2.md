# PHP練習問題② 説明

## 下記for文の`$i = 0`, `$i <= 4`, `$i++`, `echo $i`がそれぞれ、どの順番で処理されるか、また、何をしているのかを説明してください。

```
for ($i = 0; $i <= 4; $i++) {
    echo $i;
}
```

1. まずfor ($i = 0; $i <= 4; $i++)では整数型$iの定義、$iが4以下になるまで反復処理すること、処理内容が一度終わるごとに$iの値に１加算することが書かれています。 最初は$iの値は0ですので、echo $i;で０が出力されます。出力後$iの値に１加算されます。
2. 上記を経て$iの値が１となるので、echo $i;では１が出力されます。出力後$iの値に１加算されます。
3. 上記を経て$iの値が２となるので、echo $i;では２が出力されます。出力後$iの値に１加算されます。
4. 上記を経て$iの値が３となるので、echo $i;では３が出力されます。出力後$iの値に１加算されます。
5. 上記を経て$iの値が４となるので、echo $i;では４が出力されます。出力後$iの値に１加算されます。反復処理の回数を指定する条件を満たしたので、この回で反復処理が終了します。
6. 特に改行の指示が無いので、出力結果としては01234と出力されます。

## for文とforeachはどのように使い分けるのか説明してください。
- for文は変数に対する演算や配列に対する処理など幅広く使えますが、foreach文では反復回数をインデックスやキーとみなして処理を行うため、配列に対してしか使えません。

## クラスとインスタンスの違いについて説明してください。
- クラスとは関連性のある変数（プロパティ）や関数（メソッド）をまとめている設計書のようなものです。オブジェクト指向の大きな枠組みとも言えます。プログラムとして実行するにはインスタンスに変換する必要があります。
- インスタンスとは設計書であるクラスを実体化（実行できるプログラム化、インスタンス化という）したものです。クラスさえあればいくつも同一インスタンスを作成することができます。

## プロパティとメソッドとはなにか説明してください。
- プロパティはクラス内に書かれた変数を指し、数値や文字列、配列といったデータを格納します。
- メソッドはクラス内にかかれた関数を指し、そのクラスがどう動くか振る舞いを定義できます。

## コンストラクタとはなにか、また、なぜ必要なのかを説明してください。
- クラスがインスタンス化された際に自動で実行されるメソッドです。プロパティの値を設定していない場合、整数型では０、文字列型ではnull等の初期値が出力されてしまいます。
- それを避けるため、コンストラクタを用意し、インストラクタ化された際にクラスに渡した引数を受け取る必要があります。

## 下記コンストラクター内の2行が何をしているのか、また、なぜこの2行が必要なのか説明してください。
```
public function __construct($id, $name)
{
    $this->studentId = $id;
    $this->studentName = $name;
}
```
- 上記のコンストラクター内の二行ではインスタンスのプロパティに、インスタンス化した際に受け取った引数をそれぞれ代入する指示をしています。 この二行が無ければ渡された引数をインスタンスで参照し使用することができず、期待する実行結果が得られなくなります。 インスタンス化ごとに違う引数を渡す際にも便利です。

## クラスがなぜ必要なのか説明してください。
- 設計書と呼ばれるように、メソッドやプロパティを関連性・目的ごとにまとめることで、それらデータから成るオブジェクトが何を目的としているのか、どういう動作をするのかが分かりやすくするなります。分かりやすくなることで、可読性・保守性を高めることができ、チームでの作業効率を高めることにもつながる為、クラスは必要な要素だと言えます。

## `DateTime::modify`メソッドの返り値を教えてください。
- DateTimeインスタンスで取得した日付を基準に、加算・減算のように過去・未来の日付を取得するメソッドであります。例えば->modify('+6 hours')であれば取得した日時の6時間後の日時が返り値となりますし、->modify('sunday')であれば次の日曜日の日付が返り値となります。
- 不可逆なメソッドであり、このメソッドを通過すると最初に取得した日付を参照することができなくなります。

## `DateTime::format`メソッドと`DateInterval::format`メソッドの違いを教えてください。
- DateTimeクラスはミュータブルで直前に取得した日付に左右され、DateIntervalクラスはイミュータブルで一番最初に取得した日付に左右されます。
- それぞれ最初に指定した日付の7日前であれば一週間前の日時を取得できます。
- しかし同一のプロパティを使い再度7日前の日付を取得すると、DateTimeクラス由来では一番最初に取得した日付の2週間前の日付を、DateIntervalは変わらず一番最初に取得した日付の１週間前の日付を取得する、というような違いが現れます。
- 一週間前の日付の1月後の曜日を取得する等の基点が変わる場合はDateTimeクラスが、一週間前の日付と一か月後の曜日を別で得たい場合はDateIntervalクラスが適していると思われます。

## 下記コード3行目のformatメソッドの返り値をPHPのマニュアルから調べる手順を具体的に説明してください。
```
$now = new DateTime();
$prev = new DateTime('2000-1-1');
echo $prev->diff($now)->format('%a')
```

- ブラウザから「PHPマニュアル」を検索して開きます。もし日本語でない場合は、ページ右側に「Change language:」というプルダウンリストがあるのでそこからjapaneseを選択すれば日本語表記にできます。メソッド、つまり関数について検索するため、関数リファレンスのページを開きます。

- その中に「・日付および時刻関連」項がありますのでそのリンクをクリックします。 開いたページ内でメソッド名を意味する「::format」を検索すると複数ヒットしますが、エイリアス（別名)のページは後回しにします。上のDateTimeInterface::formatから確認してみます。
- 開いたページ内でパラメータに使われている文字を検索していきますが、「％」を検索してもヒットせず、パラメータの項を確認しても「％」に関する説明がやはりないため、DateTimeInterfaceのメソッドtではないことが分かります。ページを戻り次にヒットするDateInterval::formatページを確認します。

- 上記と同様に「％」でページ内検索すると今度はヒットしました。リテラルとしての％と言う事ですが、DateInterval::formatのパラメータに使用する文字は先頭に%を付けなければいけないと記載があるので特に気にする必要はありません。続いてaの項を見てみると「DateTime::diff() の結果に使った場合は総日数」とあります。どういう意味かを確認するためにリンクを開いてみます。
- ページを開くと見出しの下にメソッドの説明があり、「ふたつの DateTime オブジェクトの差を返す」とあるので、日数の差を求められるメソッドであると変わります。formatメソッドの働きでその結果を総日数、つまり年、月、ではなく日単位で表示させる指示を３行目で行っていることが分かりました。
+ ちなみに2024/6/7現時点での出力は8924です。